/*
 * Generated by @medplum/generator
 * Do not edit manually.
 */

import { getResourceTypes } from '@medplum/core';
import { PoolClient } from 'pg';

export async function run(client: PoolClient): Promise<void> {
  for (const resourceType of getResourceTypes()) {
    await client.query(`CREATE TABLE IF NOT EXISTS "${resourceType}_References" (
      "resourceId"  UUID NOT NULL,
      "targetId"    UUID NOT NULL,
      code          TEXT NOT NULL,
      PRIMARY KEY ("resourceId", "targetId", code)
    )`);
  }
}
